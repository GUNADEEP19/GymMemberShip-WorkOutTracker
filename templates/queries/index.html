{% extends 'base.html' %}
{% block content %}
<h3>Queries</h3>

<h4>Nested Query — Members with at least one Completed workout</h4>
<table>
  <thead><tr><th>MemberId</th><th>Name</th></tr></thead>
  <tbody>
    {% for r in nested %}
    <tr><td>{{ r.MemberId }}</td><td>{{ r.Name }}</td></tr>
    {% endfor %}
  </tbody>
</table>

<h4>Join Query — Payments with Member and Package</h4>
<table>
  <thead><tr><th>Member</th><th>Package</th><th>Amount</th><th>Time</th></tr></thead>
  <tbody>
    {% for r in joinq %}
    <tr><td>{{ r.MemberName }}</td><td>{{ r.PackageName }}</td><td>{{ r.Amount }}</td><td>{{ r.TimeStamp }}</td></tr>
    {% endfor %}
  </tbody>
</table>

<h4>Aggregate Query — Completed workouts per member</h4>
<table>
  <thead><tr><th>MemberId</th><th>Name</th><th>CompletedWorkouts</th></tr></thead>
  <tbody>
    {% for r in aggregate %}
    <tr><td>{{ r.MemberId }}</td><td>{{ r.Name }}</td><td>{{ r.CompletedWorkouts }}</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}


